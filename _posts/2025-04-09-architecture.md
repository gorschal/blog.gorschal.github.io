---
layout: post
title: Архитектура и Python
excerpt_separator: <!--more-->
categories:
  - Разработка
  - Управление
tags:
  - design
  - architecture
  - django
  - fastapi
  - aiohttp
---

Только вчера написал про фокус на предметной области, как сегодня прилетел вопрос в телеграм. __DDD__ в __Django__ — это норм? Надо мне меньше писать про __Django__ )). На самом деле не норм. Для __Django__ лучше всего подходят архитектурные парадигмы, которые учитывают его встроенные возможности.

<!--more-->

Дело в том, что фреймворк — это не только некий уровень абстракции над чем-то. Но и навязывание какой-либо архитектуры. Даже если мы этой архитектуры и не наблюдаем.

И так...

### Django
Если мы говорим про архитектуру, то __Django__ — это __MTV (Model-Template-View)__. __MTV__, в свою очередь, это разновидность __MVC__. И первая, и вторая аббревиатура однозначно имеет право на жизнь. Потому что это одна из немногих парадигм, которая позволяет просто «встать и побежать». Простота и быстрое прототипирование, плюс всё "из коробки".

Она подходит для любых проектов: от маленьких сайтов до реально крупномасштабных проектов. Про крупномасштабные не шучу — есть масса примеров, которые на слуху.

__DDD__ не очень хорошо ложится на всё это. Потому что однозначно виден конфликт с ORM.
Но если мы говорим про архитектуру, то на __Django__ неплохо ложится __Service Layer__. Потому что позволяет разделить логику. И для проектов выше среднего это неплохо.

```python
# примерно так
def create_order(user, data):
      order = Order.objects.create(user=user, **data)
      return order
```

### FastAPI
Из названия понятно, что речь про __REST Full API__ плюс __SPA__. Однозначно неплохо — чёткое разделение фронта и бэка, плюс неплохая масштабируемость. Но есть одна проблема. Не особо много людей могут ее проектировать. И __DDD__ тоже не очень ложится на __GRUD__.

### AIOHTTP
Трудно назвать это фреймворком, скорее библиотека. Но благодаря своему минимализму позволяет с легкостью и чистую архитектуру (__Clean Architecture__). Это когда всё разделено на слои (`use cases`, `интерфейсы`, `инфраструктура`). И __DDD__.

Но, друзья, не забываем о минусах: много кода и забудьте про «быстрый старт». Можно использовать в проектах любых масштабов, но особо хорошо заходит в крупные.